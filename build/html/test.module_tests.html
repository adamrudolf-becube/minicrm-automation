<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>test.module_tests package &#8212; BeCube MiniCRM automation script system 2.0 documentation</title>
    
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '2.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="top" title="BeCube MiniCRM automation script system 2.0 documentation" href="index.html" />
    <link rel="up" title="test package" href="test.html" />
    <link rel="next" title="test.system_tests package" href="test.system_tests.html" />
    <link rel="prev" title="test package" href="test.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="test-module-tests-package">
<h1>test.module_tests package<a class="headerlink" href="#test-module-tests-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-test.module_tests.test_cleaninfosent">
<span id="test-module-tests-test-cleaninfosent-module"></span><h2>test.module_tests.test_cleaninfosent module<a class="headerlink" href="#module-test.module_tests.test_cleaninfosent" title="Permalink to this headline">¶</a></h2>
<p>This module contains all of the tests and requirements for the functionality called cleaninfosent</p>
<dl class="class">
<dt id="test.module_tests.test_cleaninfosent.TestInfoSent">
<em class="property">class </em><code class="descclassname">test.module_tests.test_cleaninfosent.</code><code class="descname">TestInfoSent</code><span class="sig-paren">(</span><em>methodName='runTest'</em><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_cleaninfosent.TestInfoSent" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="test.unit_tests.html#test.unit_tests.minicrmtestbase.MiniCrmTestBase" title="test.unit_tests.minicrmtestbase.MiniCrmTestBase"><code class="xref py py-class docutils literal"><span class="pre">test.unit_tests.minicrmtestbase.MiniCrmTestBase</span></code></a></p>
<p>Create an instance of the class that will use the named test
method when executed. Raises a ValueError if the instance does
not have a method with the specified name.</p>
<dl class="method">
<dt id="test.module_tests.test_cleaninfosent.TestInfoSent.setUp">
<code class="descname">setUp</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_cleaninfosent.TestInfoSent.setUp" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="test.module_tests.test_cleaninfosent.TestInfoSent.test_student_did_not_finalize_and_deadline_is_more_than_1_day_away_do_nothing">
<code class="descname">test_student_did_not_finalize_and_deadline_is_more_than_1_day_away_do_nothing</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_cleaninfosent.TestInfoSent.test_student_did_not_finalize_and_deadline_is_more_than_1_day_away_do_nothing" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Given:</dt>
<dd><ul class="first last simple">
<li>there is a student in INFO sent (&#8220;INFO level kiment&#8221;) state</li>
<li>they did not finalize application</li>
<li>finalization deadline has not been spent and is in more than 24 hours</li>
</ul>
</dd>
<dt>When:</dt>
<dd><ul class="first last simple">
<li>clean_info_sent() is called</li>
</ul>
</dd>
<dt>Then:</dt>
<dd><ul class="first last simple">
<li>do nothing</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="test.module_tests.test_cleaninfosent.TestInfoSent.test_student_did_not_finalize_deadline_has_not_spent_but_within_24_hours_send_reminder">
<code class="descname">test_student_did_not_finalize_deadline_has_not_spent_but_within_24_hours_send_reminder</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_cleaninfosent.TestInfoSent.test_student_did_not_finalize_deadline_has_not_spent_but_within_24_hours_send_reminder" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Given:</dt>
<dd><ul class="first last simple">
<li>there is a student in INFO sent (&#8220;INFO level kiment&#8221;) state</li>
<li>they did not finalize application</li>
<li>finalization deadline has not spent, but is within less than 24 hours</li>
</ul>
</dd>
<dt>When:</dt>
<dd><ul class="first last simple">
<li>clean_info_sent() is called</li>
</ul>
</dd>
<dt>Then:</dt>
<dd><ul class="first last simple">
<li>reminder email (&#8220;Egy napod van jelentkezni&#8221;) is sent</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="test.module_tests.test_cleaninfosent.TestInfoSent.test_student_did_not_finalize_deadline_has_spent_but_not_more_than_24_hours_ago_send_reminder_raise_task">
<code class="descname">test_student_did_not_finalize_deadline_has_spent_but_not_more_than_24_hours_ago_send_reminder_raise_task</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_cleaninfosent.TestInfoSent.test_student_did_not_finalize_deadline_has_spent_but_not_more_than_24_hours_ago_send_reminder_raise_task" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Given:</dt>
<dd><ul class="first last simple">
<li>there is a student in INFO sent (&#8220;INFO level kiment&#8221;) state</li>
<li>they did not finalize application</li>
<li>finalization deadline has been spent, but is within less than 24 hours</li>
</ul>
</dd>
<dt>When:</dt>
<dd><ul class="first last simple">
<li>clean_info_sent() is called</li>
</ul>
</dd>
<dt>Then:</dt>
<dd><ul class="first last simple">
<li>2nd reminder email (&#8220;Egy napod van jelentkezni&#8221;) is sent</li>
<li>task is raised on the student</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="test.module_tests.test_cleaninfosent.TestInfoSent.test_student_did_not_finalize_deadline_has_spent_more_than_24_hours_ago_delete">
<code class="descname">test_student_did_not_finalize_deadline_has_spent_more_than_24_hours_ago_delete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_cleaninfosent.TestInfoSent.test_student_did_not_finalize_deadline_has_spent_more_than_24_hours_ago_delete" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Given:</dt>
<dd><ul class="first last simple">
<li>there is a student in INFO sent (&#8220;INFO level kiment&#8221;) state</li>
<li>they did not finalize application</li>
<li>finalization deadline has been spent more than 24 hours ago</li>
</ul>
</dd>
<dt>When:</dt>
<dd><ul class="first last simple">
<li>clean_info_sent() is called</li>
</ul>
</dd>
<dt>Then:</dt>
<dd><ul class="first last simple">
<li>&#8220;we deleted you&#8221; email is sent</li>
<li>status of student is set to deleted</li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-test.module_tests.test_handlewaitinglist">
<span id="test-module-tests-test-handlewaitinglist-module"></span><h2>test.module_tests.test_handlewaitinglist module<a class="headerlink" href="#module-test.module_tests.test_handlewaitinglist" title="Permalink to this headline">¶</a></h2>
<p>This module contains all of the tests and requirements for the functionality called handlewaitinglist</p>
<dl class="class">
<dt id="test.module_tests.test_handlewaitinglist.TestHandleWaitingList">
<em class="property">class </em><code class="descclassname">test.module_tests.test_handlewaitinglist.</code><code class="descname">TestHandleWaitingList</code><span class="sig-paren">(</span><em>methodName='runTest'</em><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_handlewaitinglist.TestHandleWaitingList" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="test.unit_tests.html#test.unit_tests.minicrmtestbase.MiniCrmTestBase" title="test.unit_tests.minicrmtestbase.MiniCrmTestBase"><code class="xref py py-class docutils literal"><span class="pre">test.unit_tests.minicrmtestbase.MiniCrmTestBase</span></code></a></p>
<p>Create an instance of the class that will use the named test
method when executed. Raises a ValueError if the instance does
not have a method with the specified name.</p>
<dl class="method">
<dt id="test.module_tests.test_handlewaitinglist.TestHandleWaitingList.test_there_are_5_students_on_the_waiting_list_and_there_are_two_free_places_put_the_earliest_two_to_info_sent">
<code class="descname">test_there_are_5_students_on_the_waiting_list_and_there_are_two_free_places_put_the_earliest_two_to_info_sent</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_handlewaitinglist.TestHandleWaitingList.test_there_are_5_students_on_the_waiting_list_and_there_are_two_free_places_put_the_earliest_two_to_info_sent" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Given:</dt>
<dd><ul class="first last simple">
<li>there are 5 students in waiting list</li>
<li>there are two free spots on the wanted course</li>
</ul>
</dd>
<dt>When:</dt>
<dd><ul class="first last simple">
<li>handle_waiting_list() is called</li>
</ul>
</dd>
<dt>Then:</dt>
<dd><ul class="first last simple">
<li><dl class="first docutils">
<dt>for the two who applied the earliest:</dt>
<dd><ul class="first last">
<li>INFO email is sent</li>
<li>&#8220;A spot freed up&#8221; email is sent</li>
<li>change student&#8217;s status to &#8220;INFO sent&#8221;</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>for the other student:</dt>
<dd><ul class="first last">
<li>do nothing</li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="test.module_tests.test_handlewaitinglist.TestHandleWaitingList.test_there_are_multiple_students_on_waiting_list_and_there_are_two_free_places_put_both_students_to_info_sent">
<code class="descname">test_there_are_multiple_students_on_waiting_list_and_there_are_two_free_places_put_both_students_to_info_sent</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_handlewaitinglist.TestHandleWaitingList.test_there_are_multiple_students_on_waiting_list_and_there_are_two_free_places_put_both_students_to_info_sent" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Given:</dt>
<dd><ul class="first last simple">
<li>there are two students in waiting list</li>
<li>there are two free spots on the wanted course</li>
</ul>
</dd>
<dt>When:</dt>
<dd><ul class="first last simple">
<li>handle_waiting_list() is called</li>
</ul>
</dd>
<dt>Then:</dt>
<dd><ul class="first last simple">
<li><dl class="first docutils">
<dt>for both students:</dt>
<dd><ul class="first last">
<li>INFO email is sent</li>
<li>&#8220;A spot freed up&#8221; email is sent</li>
<li>change student&#8217;s status to &#8220;INFO sent&#8221;</li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="test.module_tests.test_handlewaitinglist.TestHandleWaitingList.test_there_are_multiple_students_on_waiting_list_and_there_is_one_free_place_put_earlier_student_to_info_sent">
<code class="descname">test_there_are_multiple_students_on_waiting_list_and_there_is_one_free_place_put_earlier_student_to_info_sent</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_handlewaitinglist.TestHandleWaitingList.test_there_are_multiple_students_on_waiting_list_and_there_is_one_free_place_put_earlier_student_to_info_sent" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Given:</dt>
<dd><ul class="first last simple">
<li>there are two students in waiting list</li>
<li>there is one free spot on the wanted course</li>
</ul>
</dd>
<dt>When:</dt>
<dd><ul class="first last simple">
<li>handle_waiting_list() is called</li>
</ul>
</dd>
<dt>Then:</dt>
<dd><ul class="first last simple">
<li><dl class="first docutils">
<dt>for the one who applies earlier:</dt>
<dd><ul class="first last">
<li>INFO email is sent</li>
<li>&#8220;A spot freed up&#8221; email is sent</li>
<li>change student&#8217;s status to &#8220;INFO sent&#8221;</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>for the other student:</dt>
<dd><ul class="first last">
<li>do nothing</li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="test.module_tests.test_handlewaitinglist.TestHandleWaitingList.test_there_are_multiple_students_on_waiting_list_but_there_are_no_free_places_do_nothing">
<code class="descname">test_there_are_multiple_students_on_waiting_list_but_there_are_no_free_places_do_nothing</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_handlewaitinglist.TestHandleWaitingList.test_there_are_multiple_students_on_waiting_list_but_there_are_no_free_places_do_nothing" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Given:</dt>
<dd><ul class="first last simple">
<li>there are multiple students in waiting list</li>
<li>there is no free spot on the wanted course</li>
</ul>
</dd>
<dt>When:</dt>
<dd><ul class="first last simple">
<li>handle_waiting_list() is called</li>
</ul>
</dd>
<dt>Then:</dt>
<dd><ul class="first last simple">
<li>do nothing</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="test.module_tests.test_handlewaitinglist.TestHandleWaitingList.test_there_is_one_student_on_waiting_list_and_there_is_one_free_place_put_student_to_info_sent">
<code class="descname">test_there_is_one_student_on_waiting_list_and_there_is_one_free_place_put_student_to_info_sent</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_handlewaitinglist.TestHandleWaitingList.test_there_is_one_student_on_waiting_list_and_there_is_one_free_place_put_student_to_info_sent" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Given:</dt>
<dd><ul class="first last simple">
<li>there is a student in waiting list</li>
<li>there is one free spot on the wanted course</li>
</ul>
</dd>
<dt>When:</dt>
<dd><ul class="first last simple">
<li>handle_waiting_list() is called</li>
</ul>
</dd>
<dt>Then:</dt>
<dd><ul class="first last simple">
<li>INFO email is sent</li>
<li>&#8220;A spot freed up&#8221; email is sent</li>
<li>change student&#8217;s status to &#8220;INFO sent&#8221;</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="test.module_tests.test_handlewaitinglist.TestHandleWaitingList.test_there_is_one_student_on_waiting_list_but_there_are_no_free_places_do_nothing">
<code class="descname">test_there_is_one_student_on_waiting_list_but_there_are_no_free_places_do_nothing</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_handlewaitinglist.TestHandleWaitingList.test_there_is_one_student_on_waiting_list_but_there_are_no_free_places_do_nothing" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Given:</dt>
<dd><ul class="first last simple">
<li>there is a student in waiting list</li>
<li>there is no free spot on the wanted course</li>
</ul>
</dd>
<dt>When:</dt>
<dd><ul class="first last simple">
<li>handle_waiting_list() is called</li>
</ul>
</dd>
<dt>Then:</dt>
<dd><ul class="first last simple">
<li>do nothing</li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-test.module_tests.test_registernewapplicants">
<span id="test-module-tests-test-registernewapplicants-module"></span><h2>test.module_tests.test_registernewapplicants module<a class="headerlink" href="#module-test.module_tests.test_registernewapplicants" title="Permalink to this headline">¶</a></h2>
<p>This module contains all of the tests and requirements for the functionality called registernewapplicants.</p>
<dl class="class">
<dt id="test.module_tests.test_registernewapplicants.TestRegisterNewApplicants">
<em class="property">class </em><code class="descclassname">test.module_tests.test_registernewapplicants.</code><code class="descname">TestRegisterNewApplicants</code><span class="sig-paren">(</span><em>methodName='runTest'</em><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_registernewapplicants.TestRegisterNewApplicants" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="test.unit_tests.html#test.unit_tests.minicrmtestbase.MiniCrmTestBase" title="test.unit_tests.minicrmtestbase.MiniCrmTestBase"><code class="xref py py-class docutils literal"><span class="pre">test.unit_tests.minicrmtestbase.MiniCrmTestBase</span></code></a></p>
<p>Create an instance of the class that will use the named test
method when executed. Raises a ValueError if the instance does
not have a method with the specified name.</p>
<dl class="method">
<dt id="test.module_tests.test_registernewapplicants.TestRegisterNewApplicants.test_advanced_student_is_applied_headcount_is_less_than_the_limit_put_student_to_infosent_update_headcounts_copy_course_data">
<code class="descname">test_advanced_student_is_applied_headcount_is_less_than_the_limit_put_student_to_infosent_update_headcounts_copy_course_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_registernewapplicants.TestRegisterNewApplicants.test_advanced_student_is_applied_headcount_is_less_than_the_limit_put_student_to_infosent_update_headcounts_copy_course_data" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Given:</dt>
<dd><ul class="first last simple">
<li>one advanced student is in applied (&#8220;Jelentkezett&#8221;) state</li>
<li>current headcount is less than maximal headcount. (there is at least one free spot) in the wanted course.)</li>
</ul>
</dd>
<dt>When:</dt>
<dd><ul class="first last simple">
<li>register_new_applicants() is called</li>
</ul>
</dd>
<dt>Then:</dt>
<dd><ul class="first last simple">
<li>student&#8217;s info is filled</li>
<li>student is put to INFO sent (&#8220;INFO level kiment&#8221;) state</li>
<li>advanced INFO mail is sent</li>
<li>application deadline is set</li>
<li>headcount is updated</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="test.module_tests.test_registernewapplicants.TestRegisterNewApplicants.test_no_new_applicant_do_nothing">
<code class="descname">test_no_new_applicant_do_nothing</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_registernewapplicants.TestRegisterNewApplicants.test_no_new_applicant_do_nothing" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Given:</dt>
<dd><ul class="first last simple">
<li>there is no new applicant</li>
</ul>
</dd>
<dt>When:</dt>
<dd><ul class="first last simple">
<li>register_new_applicants() is called</li>
</ul>
</dd>
<dt>Then:</dt>
<dd><ul class="first last simple">
<li>do nothing</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="test.module_tests.test_registernewapplicants.TestRegisterNewApplicants.test_student_is_applied_course_doesnt_exist_raise_task_with_errormessage">
<code class="descname">test_student_is_applied_course_doesnt_exist_raise_task_with_errormessage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_registernewapplicants.TestRegisterNewApplicants.test_student_is_applied_course_doesnt_exist_raise_task_with_errormessage" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Given:</dt>
<dd><ul class="first last simple">
<li>one beginner student is in applied (&#8220;Jelentkezett&#8221;) state</li>
<li>student&#8217;s course doesn&#8217;t exist</li>
</ul>
</dd>
<dt>When:</dt>
<dd><ul class="first last simple">
<li>register_new_applicants() is called</li>
</ul>
</dd>
<dt>Then:</dt>
<dd><ul class="first last simple">
<li>task is raised on student</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="test.module_tests.test_registernewapplicants.TestRegisterNewApplicants.test_student_is_applied_headcount_is_less_than_the_limit_put_student_to_infosent_update_headcounts_copy_course_data">
<code class="descname">test_student_is_applied_headcount_is_less_than_the_limit_put_student_to_infosent_update_headcounts_copy_course_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_registernewapplicants.TestRegisterNewApplicants.test_student_is_applied_headcount_is_less_than_the_limit_put_student_to_infosent_update_headcounts_copy_course_data" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Given:</dt>
<dd><ul class="first last simple">
<li>one beginner student is in applied (&#8220;Jelentkezett&#8221;) state</li>
<li>current headcount is less than maximal headcount. (there is at least one free spot) in the wanted course.)</li>
</ul>
</dd>
<dt>When:</dt>
<dd><ul class="first last simple">
<li>register_new_applicants() is called</li>
</ul>
</dd>
<dt>Then:</dt>
<dd><ul class="first last simple">
<li>student&#8217;s info is filled</li>
<li>student is put to INFO sent (&#8220;INFO level kiment&#8221;) state</li>
<li>beginner INFO mail is sent</li>
<li>application deadline is set</li>
<li>headcount is updated</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="test.module_tests.test_registernewapplicants.TestRegisterNewApplicants.test_student_is_applied_headcount_is_not_less_than_the_limit_put_student_to_waiting_list_and_send_mail">
<code class="descname">test_student_is_applied_headcount_is_not_less_than_the_limit_put_student_to_waiting_list_and_send_mail</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_registernewapplicants.TestRegisterNewApplicants.test_student_is_applied_headcount_is_not_less_than_the_limit_put_student_to_waiting_list_and_send_mail" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Given:</dt>
<dd><ul class="first last simple">
<li>one beginner advanced student is in applied (&#8220;Jelentkezett&#8221;) state</li>
<li>current headcount is equal to minimal headcount. (there is no free spot) in the wanted course.)</li>
</ul>
</dd>
<dt>When:</dt>
<dd><ul class="first last simple">
<li>register_new_applicants() is called</li>
</ul>
</dd>
<dt>Then:</dt>
<dd><ul class="first last simple">
<li>student&#8217;s info is filled</li>
<li>student is put to waiting list (&#8220;Varolistan van&#8221;) state</li>
<li>waiting list mail</li>
<li>headcount is updated</li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-test.module_tests.test_sendscheduledemails">
<span id="test-module-tests-test-sendscheduledemails-module"></span><h2>test.module_tests.test_sendscheduledemails module<a class="headerlink" href="#module-test.module_tests.test_sendscheduledemails" title="Permalink to this headline">¶</a></h2>
<p>This module contains all of the tests and requirements for the functionality called sendscheduledemails.</p>
<dl class="class">
<dt id="test.module_tests.test_sendscheduledemails.TestOkForCertification">
<em class="property">class </em><code class="descclassname">test.module_tests.test_sendscheduledemails.</code><code class="descname">TestOkForCertification</code><span class="sig-paren">(</span><em>methodName='runTest'</em><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_sendscheduledemails.TestOkForCertification" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="test.unit_tests.html#test.unit_tests.minicrmtestbase.MiniCrmTestBase" title="test.unit_tests.minicrmtestbase.MiniCrmTestBase"><code class="xref py py-class docutils literal"><span class="pre">test.unit_tests.minicrmtestbase.MiniCrmTestBase</span></code></a></p>
<p>Create an instance of the class that will use the named test
method when executed. Raises a ValueError if the instance does
not have a method with the specified name.</p>
<dl class="method">
<dt id="test.module_tests.test_sendscheduledemails.TestOkForCertification.test_7_attendance_full_homework_returns_not_ok">
<code class="descname">test_7_attendance_full_homework_returns_not_ok</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_sendscheduledemails.TestOkForCertification.test_7_attendance_full_homework_returns_not_ok" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Given:</dt>
<dd><ul class="first last simple">
<li>student attended 7 courses</li>
<li>student filed all homework</li>
</ul>
</dd>
<dt>When:</dt>
<dd><ul class="first last simple">
<li>ok_for_certification() with given student is called</li>
</ul>
</dd>
<dt>Then:</dt>
<dd><ul class="first last simple">
<li>False is returned</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="test.module_tests.test_sendscheduledemails.TestOkForCertification.test_8_attendance_full_homework_returns_ok">
<code class="descname">test_8_attendance_full_homework_returns_ok</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_sendscheduledemails.TestOkForCertification.test_8_attendance_full_homework_returns_ok" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Given:</dt>
<dd><ul class="first last simple">
<li>student attended 8 courses</li>
<li>student filed all homework</li>
</ul>
</dd>
<dt>When:</dt>
<dd><ul class="first last simple">
<li>ok_for_certification() with given student is called</li>
</ul>
</dd>
<dt>Then:</dt>
<dd><ul class="first last simple">
<li>True is returned</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="test.module_tests.test_sendscheduledemails.TestOkForCertification.test_9_attendance_full_homework_returns_ok">
<code class="descname">test_9_attendance_full_homework_returns_ok</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_sendscheduledemails.TestOkForCertification.test_9_attendance_full_homework_returns_ok" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Given:</dt>
<dd><ul class="first last simple">
<li>student attended 9 courses</li>
<li>student filed all homework</li>
</ul>
</dd>
<dt>When:</dt>
<dd><ul class="first last simple">
<li>ok_for_certification() with given student is called</li>
</ul>
</dd>
<dt>Then:</dt>
<dd><ul class="first last simple">
<li>True is returned</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="test.module_tests.test_sendscheduledemails.TestOkForCertification.test_full_attendance_full_homework_returns_ok">
<code class="descname">test_full_attendance_full_homework_returns_ok</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_sendscheduledemails.TestOkForCertification.test_full_attendance_full_homework_returns_ok" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Given:</dt>
<dd><ul class="first last simple">
<li>student filed all homework</li>
<li>student attended all occasions</li>
</ul>
</dd>
<dt>When:</dt>
<dd><ul class="first last simple">
<li>ok_for_certification() with given student is called</li>
</ul>
</dd>
<dt>Then:</dt>
<dd><ul class="first last simple">
<li>True is returned</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="test.module_tests.test_sendscheduledemails.TestOkForCertification.test_full_attendance_no_homework_returns_not_ok">
<code class="descname">test_full_attendance_no_homework_returns_not_ok</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_sendscheduledemails.TestOkForCertification.test_full_attendance_no_homework_returns_not_ok" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Given:</dt>
<dd><ul class="first last simple">
<li>student attended all occasions</li>
<li>student hasn&#8217;t filed any homework</li>
</ul>
</dd>
<dt>When:</dt>
<dd><ul class="first last simple">
<li>ok_for_certification() with given student is called</li>
</ul>
</dd>
<dt>Then:</dt>
<dd><ul class="first last simple">
<li>False is returned</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="test.module_tests.test_sendscheduledemails.TestOkForCertification.test_full_attendance_one_missing_homework_returns_not_ok">
<code class="descname">test_full_attendance_one_missing_homework_returns_not_ok</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_sendscheduledemails.TestOkForCertification.test_full_attendance_one_missing_homework_returns_not_ok" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Given:</dt>
<dd><ul class="first last simple">
<li>one homework is missing</li>
<li>student attended all courses</li>
</ul>
</dd>
<dt>When:</dt>
<dd><ul class="first last simple">
<li>ok_for_certification() with given student is called</li>
</ul>
</dd>
<dt>Then:</dt>
<dd><ul class="first last simple">
<li>False is returned</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="test.module_tests.test_sendscheduledemails.TestOkForCertification.test_no_attendance_full_homework_returns_not_ok">
<code class="descname">test_no_attendance_full_homework_returns_not_ok</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_sendscheduledemails.TestOkForCertification.test_no_attendance_full_homework_returns_not_ok" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Given:</dt>
<dd><ul class="first last simple">
<li>student filed all homework</li>
<li>student hasn&#8217;t attended any courses</li>
</ul>
</dd>
<dt>When:</dt>
<dd><ul class="first last simple">
<li>ok_for_certification() with given student is called</li>
</ul>
</dd>
<dt>Then:</dt>
<dd><ul class="first last simple">
<li>False is returned</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="test.module_tests.test_sendscheduledemails.TestOkForCertification.test_no_attendance_no_homework_returns_not_ok">
<code class="descname">test_no_attendance_no_homework_returns_not_ok</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_sendscheduledemails.TestOkForCertification.test_no_attendance_no_homework_returns_not_ok" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Given:</dt>
<dd><ul class="first last simple">
<li>student hasn&#8217;t filed any homework</li>
</ul>
</dd>
<dt>When:</dt>
<dd><ul class="first last simple">
<li>ok_for_certification() with given student is called</li>
</ul>
</dd>
<dt>Then:</dt>
<dd><ul class="first last simple">
<li>False is returned</li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="test.module_tests.test_sendscheduledemails.TestSendScheduledMails">
<em class="property">class </em><code class="descclassname">test.module_tests.test_sendscheduledemails.</code><code class="descname">TestSendScheduledMails</code><span class="sig-paren">(</span><em>methodName='runTest'</em><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_sendscheduledemails.TestSendScheduledMails" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="test.unit_tests.html#test.unit_tests.minicrmtestbase.MiniCrmTestBase" title="test.unit_tests.minicrmtestbase.MiniCrmTestBase"><code class="xref py py-class docutils literal"><span class="pre">test.unit_tests.minicrmtestbase.MiniCrmTestBase</span></code></a></p>
<p>Create an instance of the class that will use the named test
method when executed. Raises a ValueError if the instance does
not have a method with the specified name.</p>
<dl class="method">
<dt id="test.module_tests.test_sendscheduledemails.TestSendScheduledMails.setUp">
<code class="descname">setUp</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_sendscheduledemails.TestSendScheduledMails.setUp" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_advanced_date_is_after_1st_occasion_send_first_email">
<code class="descname">test_advanced_date_is_after_1st_occasion_send_first_email</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_advanced_date_is_after_1st_occasion_send_first_email" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Given:</dt>
<dd><ul class="first last simple">
<li>there is one active advanced student</li>
<li>first occasion is spent</li>
</ul>
</dd>
<dt>When:</dt>
<dd><ul class="first last simple">
<li>send_scheduled_emails() is called</li>
</ul>
</dd>
<dt>Then:</dt>
<dd><ul class="first last simple">
<li>first email is sent</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_advanced_date_is_before_1st_occasion_but_difference_is_less_than_delta_send_first_email">
<code class="descname">test_advanced_date_is_before_1st_occasion_but_difference_is_less_than_delta_send_first_email</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_advanced_date_is_before_1st_occasion_but_difference_is_less_than_delta_send_first_email" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Given:</dt>
<dd><ul class="first last simple">
<li>there is one active advanced student</li>
<li>first occasion os less than 3 days away (but still not spent)</li>
</ul>
</dd>
<dt>When:</dt>
<dd><ul class="first last simple">
<li>send_scheduled_emails() is called</li>
</ul>
</dd>
<dt>Then:</dt>
<dd><ul class="first last simple">
<li>first email is sent</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_advanced_date_is_more_than_delta_days_less_than_1st_occasion_do_nothing">
<code class="descname">test_advanced_date_is_more_than_delta_days_less_than_1st_occasion_do_nothing</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_advanced_date_is_more_than_delta_days_less_than_1st_occasion_do_nothing" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Given:</dt>
<dd><ul class="first last simple">
<li>there is one active advanced student</li>
<li>first occasion is more than 3 days away</li>
</ul>
</dd>
<dt>When:</dt>
<dd><ul class="first last simple">
<li>send_scheduled_emails() is called</li>
</ul>
</dd>
<dt>Then:</dt>
<dd><ul class="first last simple">
<li>do nothing</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_advanced_dont_send_certification_but_set_state_to_finished_2_days_after_last_occasion_if_not_applicable">
<code class="descname">test_advanced_dont_send_certification_but_set_state_to_finished_2_days_after_last_occasion_if_not_applicable</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_advanced_dont_send_certification_but_set_state_to_finished_2_days_after_last_occasion_if_not_applicable" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Given:</dt>
<dd><ul class="first last simple">
<li>there is one active advanced student</li>
<li>it&#8217;s last occasion plus 2 days</li>
<li>student is not eligible for certification</li>
</ul>
</dd>
<dt>When:</dt>
<dd><ul class="first last simple">
<li>send_scheduled_emails() is called</li>
</ul>
</dd>
<dt>Then:</dt>
<dd><ul class="first last simple">
<li>advanced certification is not sent</li>
<li>student is put to Finished (&#8220;Elvegezte&#8221;) state</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_advanced_if_no_change_in_sent_mails_dont_send_update">
<code class="descname">test_advanced_if_no_change_in_sent_mails_dont_send_update</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_advanced_if_no_change_in_sent_mails_dont_send_update" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Given:</dt>
<dd><ul class="first last simple">
<li>there is one active advanced student</li>
<li>all scheduled emails have been already spent</li>
</ul>
</dd>
<dt>When:</dt>
<dd><ul class="first last simple">
<li>send_scheduled_emails() is called</li>
</ul>
</dd>
<dt>Then:</dt>
<dd><ul class="first last simple">
<li>don&#8217;t update student data</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_advanced_if_no_mails_have_been_sent_but_more_occasions_passed_send_all_relevant_emails">
<code class="descname">test_advanced_if_no_mails_have_been_sent_but_more_occasions_passed_send_all_relevant_emails</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_advanced_if_no_mails_have_been_sent_but_more_occasions_passed_send_all_relevant_emails" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Given:</dt>
<dd><ul class="first last simple">
<li>there is one active advanced student</li>
<li>no emails have been sent out</li>
<li>multiple occasions have been spent</li>
</ul>
</dd>
<dt>When:</dt>
<dd><ul class="first last simple">
<li>send_scheduled_emails() is called</li>
</ul>
</dd>
<dt>Then:</dt>
<dd><ul class="first last simple">
<li>all relevant mails are sent</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_advanced_if_second_break_is_coming_send_second_break_email">
<code class="descname">test_advanced_if_second_break_is_coming_send_second_break_email</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_advanced_if_second_break_is_coming_send_second_break_email" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Given:</dt>
<dd><ul class="first last simple">
<li>there is one active advanced student</li>
<li>it&#8217;s not less than 2 days before the second dayoff</li>
</ul>
</dd>
<dt>When:</dt>
<dd><ul class="first last simple">
<li>send_scheduled_emails() is called</li>
</ul>
</dd>
<dt>Then:</dt>
<dd><ul class="first last simple">
<li>second dayoff mail is sent</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_advanced_if_third_break_is_coming_send_third_break_email">
<code class="descname">test_advanced_if_third_break_is_coming_send_third_break_email</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_advanced_if_third_break_is_coming_send_third_break_email" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Given:</dt>
<dd><ul class="first last simple">
<li>there is one active advanced student</li>
<li>it&#8217;s not less than 2 days before the third dayoff</li>
</ul>
</dd>
<dt>When:</dt>
<dd><ul class="first last simple">
<li>send_scheduled_emails() is called</li>
</ul>
</dd>
<dt>Then:</dt>
<dd><ul class="first last simple">
<li>third dayoff mail is sent</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_advanced_send_certification_and_set_state_to_finished_2_days_after_last_occasion_if_applicable">
<code class="descname">test_advanced_send_certification_and_set_state_to_finished_2_days_after_last_occasion_if_applicable</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_advanced_send_certification_and_set_state_to_finished_2_days_after_last_occasion_if_applicable" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Given:</dt>
<dd><ul class="first last simple">
<li>there is one active advanced student</li>
<li>it&#8217;s last occasion plus 2 days</li>
<li>student is eligible for certification</li>
</ul>
</dd>
<dt>When:</dt>
<dd><ul class="first last simple">
<li>send_scheduled_emails() is called</li>
</ul>
</dd>
<dt>Then:</dt>
<dd><ul class="first last simple">
<li>advanced certification is sent</li>
<li>student is put to Finished (&#8220;Elvegezte&#8221;) state</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_advanced_send_certification_but_set_state_to_finished_2_days_after_last_occasion_if_not_applicable">
<code class="descname">test_advanced_send_certification_but_set_state_to_finished_2_days_after_last_occasion_if_not_applicable</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_advanced_send_certification_but_set_state_to_finished_2_days_after_last_occasion_if_not_applicable" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Given:</dt>
<dd><ul class="first last simple">
<li>there is one active company advanced student</li>
<li>it&#8217;s not less than last occasion plus 2 days</li>
<li>student is NOT eligible for certification</li>
</ul>
</dd>
<dt>When:</dt>
<dd><ul class="first last simple">
<li>send_scheduled_emails() is called</li>
</ul>
</dd>
<dt>Then:</dt>
<dd><ul class="first last simple">
<li>send advanced certification</li>
<li>put student to Finished (&#8220;Elvegezte&#8221;) state</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_advanced_send_final_mail_1_day_after_last_occasion">
<code class="descname">test_advanced_send_final_mail_1_day_after_last_occasion</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_advanced_send_final_mail_1_day_after_last_occasion" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Given:</dt>
<dd><ul class="first last simple">
<li>there is one active advanced student</li>
<li>it&#8217;s 1 day after last occasion</li>
</ul>
</dd>
<dt>When:</dt>
<dd><ul class="first last simple">
<li>send_scheduled_emails() is called</li>
</ul>
</dd>
<dt>Then:</dt>
<dd><ul class="first last simple">
<li>final mail is sent</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_beginner_date_is_after_1st_occasion_send_first_email">
<code class="descname">test_beginner_date_is_after_1st_occasion_send_first_email</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_beginner_date_is_after_1st_occasion_send_first_email" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Given:</dt>
<dd><ul class="first last simple">
<li>there is one active beginner student</li>
<li>first occasion is spent</li>
</ul>
</dd>
<dt>When:</dt>
<dd><ul class="first last simple">
<li>send_scheduled_emails() is called</li>
</ul>
</dd>
<dt>Then:</dt>
<dd><ul class="first last simple">
<li>first email is sent</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_beginner_date_is_before_1st_occasion_but_difference_is_less_than_delta_send_first_email">
<code class="descname">test_beginner_date_is_before_1st_occasion_but_difference_is_less_than_delta_send_first_email</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_beginner_date_is_before_1st_occasion_but_difference_is_less_than_delta_send_first_email" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Given:</dt>
<dd><ul class="first last simple">
<li>there is one active beginner student</li>
<li>first occasion os less than 3 days away (but still not spent)</li>
</ul>
</dd>
<dt>When:</dt>
<dd><ul class="first last simple">
<li>send_scheduled_emails() is called</li>
</ul>
</dd>
<dt>Then:</dt>
<dd><ul class="first last simple">
<li>first email is sent</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_beginner_date_is_more_than_delta_days_less_than_1st_occasion_do_nothing">
<code class="descname">test_beginner_date_is_more_than_delta_days_less_than_1st_occasion_do_nothing</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_beginner_date_is_more_than_delta_days_less_than_1st_occasion_do_nothing" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Given:</dt>
<dd><ul class="first last simple">
<li>there is one active beginner student</li>
<li>first occasion is more than 3 days away</li>
</ul>
</dd>
<dt>When:</dt>
<dd><ul class="first last simple">
<li>send_scheduled_emails() is called</li>
</ul>
</dd>
<dt>Then:</dt>
<dd><ul class="first last simple">
<li>do nothing</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_beginner_if_no_change_in_sent_mails_dont_send_update">
<code class="descname">test_beginner_if_no_change_in_sent_mails_dont_send_update</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_beginner_if_no_change_in_sent_mails_dont_send_update" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Given:</dt>
<dd><ul class="first last simple">
<li>there is one active beginner student</li>
<li>all of the needed mails have been already sent</li>
</ul>
</dd>
<dt>When:</dt>
<dd><ul class="first last simple">
<li>send_scheduled_emails() is called</li>
</ul>
</dd>
<dt>Then:</dt>
<dd><ul class="first last simple">
<li>don&#8217;t update student data</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_beginner_if_no_mails_have_been_sent_but_more_occasions_passed_send_all_relevant_emails">
<code class="descname">test_beginner_if_no_mails_have_been_sent_but_more_occasions_passed_send_all_relevant_emails</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_beginner_if_no_mails_have_been_sent_but_more_occasions_passed_send_all_relevant_emails" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Given:</dt>
<dd><ul class="first last simple">
<li>there is one active beginner student</li>
<li>no mails have been sent</li>
<li>more occasions have passed</li>
</ul>
</dd>
<dt>When:</dt>
<dd><ul class="first last simple">
<li>send_scheduled_emails() is called</li>
</ul>
</dd>
<dt>Then:</dt>
<dd><ul class="first last simple">
<li>all relevant emails have been sent</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_beginner_if_second_break_is_coming_send_second_break_email">
<code class="descname">test_beginner_if_second_break_is_coming_send_second_break_email</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_beginner_if_second_break_is_coming_send_second_break_email" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Given:</dt>
<dd><ul class="first last simple">
<li>there is one active beginner student</li>
<li>it&#8217;s not less than two days before second dayoff</li>
</ul>
</dd>
<dt>When:</dt>
<dd><ul class="first last simple">
<li>send_scheduled_emails() is called</li>
</ul>
</dd>
<dt>Then:</dt>
<dd><ul class="first last simple">
<li>send second dayoff email</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_beginner_if_third_break_is_coming_send_third_break_email">
<code class="descname">test_beginner_if_third_break_is_coming_send_third_break_email</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_beginner_if_third_break_is_coming_send_third_break_email" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Given:</dt>
<dd><ul class="first last simple">
<li>there is one active beginner student</li>
<li>it&#8217;s not less than two days before third dayoff</li>
</ul>
</dd>
<dt>When:</dt>
<dd><ul class="first last simple">
<li>send_scheduled_emails() is called</li>
</ul>
</dd>
<dt>Then:</dt>
<dd><ul class="first last simple">
<li>send third dayoff email</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_company_advanced_date_is_after_1st_occasion_send_first_email">
<code class="descname">test_company_advanced_date_is_after_1st_occasion_send_first_email</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_company_advanced_date_is_after_1st_occasion_send_first_email" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Given:</dt>
<dd><ul class="first last simple">
<li>there is one active company advanced student</li>
<li>fist day is spent</li>
</ul>
</dd>
<dt>When:</dt>
<dd><ul class="first last simple">
<li>send_scheduled_emails() is called</li>
</ul>
</dd>
<dt>Then:</dt>
<dd><ul class="first last simple">
<li>first email is sent</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_company_advanced_date_is_before_1st_occasion_but_difference_is_less_than_delta_send_first_email">
<code class="descname">test_company_advanced_date_is_before_1st_occasion_but_difference_is_less_than_delta_send_first_email</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_company_advanced_date_is_before_1st_occasion_but_difference_is_less_than_delta_send_first_email" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Given:</dt>
<dd><ul class="first last simple">
<li>there is one active company advanced student</li>
<li>fist day is in less than 3 days, but has not spent</li>
</ul>
</dd>
<dt>When:</dt>
<dd><ul class="first last simple">
<li>send_scheduled_emails() is called</li>
</ul>
</dd>
<dt>Then:</dt>
<dd><ul class="first last simple">
<li>first email is sent</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_company_advanced_date_is_more_than_delta_days_less_than_1st_occasion_do_nothing">
<code class="descname">test_company_advanced_date_is_more_than_delta_days_less_than_1st_occasion_do_nothing</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_company_advanced_date_is_more_than_delta_days_less_than_1st_occasion_do_nothing" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Given:</dt>
<dd><ul class="first last simple">
<li>there is one active company advanced student</li>
<li>fist day is in more than 3 days</li>
</ul>
</dd>
<dt>When:</dt>
<dd><ul class="first last simple">
<li>send_scheduled_emails() is called</li>
</ul>
</dd>
<dt>Then:</dt>
<dd><ul class="first last simple">
<li>do nothing</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_company_advanced_if_no_change_in_sent_mails_dont_send_update">
<code class="descname">test_company_advanced_if_no_change_in_sent_mails_dont_send_update</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_company_advanced_if_no_change_in_sent_mails_dont_send_update" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Given:</dt>
<dd><ul class="first last simple">
<li>there is one active company advanced student</li>
<li>all scheduled mails have been already sent</li>
</ul>
</dd>
<dt>When:</dt>
<dd><ul class="first last simple">
<li>send_scheduled_emails() is called</li>
</ul>
</dd>
<dt>Then:</dt>
<dd><ul class="first last simple">
<li>don&#8217;t update student data</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_company_advanced_if_no_mails_have_been_sent_but_more_occasions_passed_send_all_relevant_emails">
<code class="descname">test_company_advanced_if_no_mails_have_been_sent_but_more_occasions_passed_send_all_relevant_emails</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_company_advanced_if_no_mails_have_been_sent_but_more_occasions_passed_send_all_relevant_emails" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Given:</dt>
<dd><ul class="first last simple">
<li>there is one active company advanced student</li>
<li>no mails have been sent</li>
<li>multiple occasions passed</li>
</ul>
</dd>
<dt>When:</dt>
<dd><ul class="first last simple">
<li>send_scheduled_emails() is called</li>
</ul>
</dd>
<dt>Then:</dt>
<dd><ul class="first last simple">
<li>all relevant mails are sent</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_company_advanced_if_second_break_is_coming_send_second_break_email">
<code class="descname">test_company_advanced_if_second_break_is_coming_send_second_break_email</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_company_advanced_if_second_break_is_coming_send_second_break_email" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Given:</dt>
<dd><ul class="first last simple">
<li>there is one active company advanced student</li>
<li>it&#8217;t not less than second break minus 2 days</li>
</ul>
</dd>
<dt>When:</dt>
<dd><ul class="first last simple">
<li>send_scheduled_emails() is called</li>
</ul>
</dd>
<dt>Then:</dt>
<dd><ul class="first last simple">
<li>second break mail is sent</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_company_advanced_if_third_break_is_coming_send_third_break_email">
<code class="descname">test_company_advanced_if_third_break_is_coming_send_third_break_email</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_company_advanced_if_third_break_is_coming_send_third_break_email" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Given:</dt>
<dd><ul class="first last simple">
<li>there is one active company advanced student</li>
<li>it&#8217;t not less than third break minus 2 days</li>
</ul>
</dd>
<dt>When:</dt>
<dd><ul class="first last simple">
<li>send_scheduled_emails() is called</li>
</ul>
</dd>
<dt>Then:</dt>
<dd><ul class="first last simple">
<li>third break mail is sent</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_company_advanced_send_certification_and_set_state_to_finished_2_days_after_last_occasion_if_applicable">
<code class="descname">test_company_advanced_send_certification_and_set_state_to_finished_2_days_after_last_occasion_if_applicable</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_company_advanced_send_certification_and_set_state_to_finished_2_days_after_last_occasion_if_applicable" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Given:</dt>
<dd><ul class="first last simple">
<li>there is one active company advanced student</li>
<li>it&#8217;s not less than last occasion plus 2 days</li>
<li>student is eligible for certification</li>
</ul>
</dd>
<dt>When:</dt>
<dd><ul class="first last simple">
<li>send_scheduled_emails() is called</li>
</ul>
</dd>
<dt>Then:</dt>
<dd><ul class="first last simple">
<li>send advanced certification</li>
<li>put student to Finished (&#8220;Elvegezte&#8221;) state</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_company_advanced_send_final_mail_1_day_after_last_occasion">
<code class="descname">test_company_advanced_send_final_mail_1_day_after_last_occasion</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_company_advanced_send_final_mail_1_day_after_last_occasion" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Given:</dt>
<dd><ul class="first last simple">
<li>there is one active company advanced student</li>
<li>it&#8217;t not less than final occasion minus 1 day</li>
</ul>
</dd>
<dt>When:</dt>
<dd><ul class="first last simple">
<li>send_scheduled_emails() is called</li>
</ul>
</dd>
<dt>Then:</dt>
<dd><ul class="first last simple">
<li>final mail is sent</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_company_beginner_date_is_after_1st_occasion_send_first_email">
<code class="descname">test_company_beginner_date_is_after_1st_occasion_send_first_email</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_company_beginner_date_is_after_1st_occasion_send_first_email" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Given:</dt>
<dd><ul class="first last simple">
<li>there is one active company beginner student</li>
<li>first occasion spent</li>
</ul>
</dd>
<dt>When:</dt>
<dd><ul class="first last simple">
<li>send_scheduled_emails() is called</li>
</ul>
</dd>
<dt>Then:</dt>
<dd><ul class="first last simple">
<li>send beginner first mail</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_company_beginner_date_is_before_1st_occasion_but_difference_is_less_than_delta_send_first_email">
<code class="descname">test_company_beginner_date_is_before_1st_occasion_but_difference_is_less_than_delta_send_first_email</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_company_beginner_date_is_before_1st_occasion_but_difference_is_less_than_delta_send_first_email" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Given:</dt>
<dd><ul class="first last simple">
<li>there is one active company beginner student</li>
<li>first occasion is less than 3 days away, but not spent</li>
</ul>
</dd>
<dt>When:</dt>
<dd><ul class="first last simple">
<li>send_scheduled_emails() is called</li>
</ul>
</dd>
<dt>Then:</dt>
<dd><ul class="first last simple">
<li>send beginner first mail</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_company_beginner_date_is_more_than_delta_days_less_than_1st_occasion_do_nothing">
<code class="descname">test_company_beginner_date_is_more_than_delta_days_less_than_1st_occasion_do_nothing</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_company_beginner_date_is_more_than_delta_days_less_than_1st_occasion_do_nothing" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Given:</dt>
<dd><ul class="first last simple">
<li>there is one active company beginner student</li>
<li>first occasion is more than 3 days away</li>
</ul>
</dd>
<dt>When:</dt>
<dd><ul class="first last simple">
<li>send_scheduled_emails() is called</li>
</ul>
</dd>
<dt>Then:</dt>
<dd><ul class="first last simple">
<li>do nothing</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_company_beginner_dont_send_certification_and_set_state_to_finished_2_days_after_last_occasion_if_applicable">
<code class="descname">test_company_beginner_dont_send_certification_and_set_state_to_finished_2_days_after_last_occasion_if_applicable</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_company_beginner_dont_send_certification_and_set_state_to_finished_2_days_after_last_occasion_if_applicable" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Given:</dt>
<dd><ul class="first last simple">
<li>there is one active company beginner student</li>
<li>it&#8217;s 2 days after last occasion</li>
<li>student is eligible for certification</li>
</ul>
</dd>
<dt>When:</dt>
<dd><ul class="first last simple">
<li>send_scheduled_emails() is called</li>
</ul>
</dd>
<dt>Then:</dt>
<dd><ul class="first last simple">
<li>don&#8217;t send certification</li>
<li>put student to Finished (&#8220;Elvegezte&#8221;) state</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_company_beginner_dont_send_certification_but_set_state_to_finished_2_days_after_last_occasion_if_not_applicable">
<code class="descname">test_company_beginner_dont_send_certification_but_set_state_to_finished_2_days_after_last_occasion_if_not_applicable</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_company_beginner_dont_send_certification_but_set_state_to_finished_2_days_after_last_occasion_if_not_applicable" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Given:</dt>
<dd><ul class="first last simple">
<li>there is one active company beginner student</li>
<li>it&#8217;s 2 days after last occasion</li>
<li>student is not eligible for certification</li>
</ul>
</dd>
<dt>When:</dt>
<dd><ul class="first last simple">
<li>send_scheduled_emails() is called</li>
</ul>
</dd>
<dt>Then:</dt>
<dd><ul class="first last simple">
<li>don&#8217;t send certification</li>
<li>put student to Finished (&#8220;Elvegezte&#8221;) state</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_company_beginner_dont_send_final_mail_1_day_after_last_occasion">
<code class="descname">test_company_beginner_dont_send_final_mail_1_day_after_last_occasion</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_company_beginner_dont_send_final_mail_1_day_after_last_occasion" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Given:</dt>
<dd><ul class="first last simple">
<li>there is one active company beginner student</li>
<li>it&#8217;s last occasion plus 1 day</li>
</ul>
</dd>
<dt>When:</dt>
<dd><ul class="first last simple">
<li>send_scheduled_emails() is called</li>
</ul>
</dd>
<dt>Then:</dt>
<dd><ul class="first last simple">
<li>last mail is NOT sent</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_company_beginner_if_no_change_in_sent_mails_dont_send_update">
<code class="descname">test_company_beginner_if_no_change_in_sent_mails_dont_send_update</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_company_beginner_if_no_change_in_sent_mails_dont_send_update" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Given:</dt>
<dd><ul class="first last simple">
<li>there is one active company beginner student</li>
<li>first occasion spent</li>
</ul>
</dd>
<dt>When:</dt>
<dd><ul class="first last simple">
<li>send_scheduled_emails() is called</li>
</ul>
</dd>
<dt>Then:</dt>
<dd><ul class="first last simple">
<li>send beginner first mail</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_company_beginner_if_no_mails_have_been_sent_but_more_occasions_passed_send_all_relevant_emails">
<code class="descname">test_company_beginner_if_no_mails_have_been_sent_but_more_occasions_passed_send_all_relevant_emails</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_company_beginner_if_no_mails_have_been_sent_but_more_occasions_passed_send_all_relevant_emails" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Given:</dt>
<dd><ul class="first last simple">
<li>there is one active company beginner student</li>
<li>no mails have been sent</li>
<li>multiple occasions have passed</li>
</ul>
</dd>
<dt>When:</dt>
<dd><ul class="first last simple">
<li>send_scheduled_emails() is called</li>
</ul>
</dd>
<dt>Then:</dt>
<dd><ul class="first last simple">
<li>all relevant mails are sent</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_dont_send_certification_but_set_state_to_finished_2_days_after_last_occasion_if_not_applicable">
<code class="descname">test_dont_send_certification_but_set_state_to_finished_2_days_after_last_occasion_if_not_applicable</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_dont_send_certification_but_set_state_to_finished_2_days_after_last_occasion_if_not_applicable" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Given:</dt>
<dd><ul class="first last simple">
<li>there is one active beginner student</li>
<li>it&#8217;s last occasion plus 2 days</li>
<li>student is not eligible for certification</li>
</ul>
</dd>
<dt>When:</dt>
<dd><ul class="first last simple">
<li>send_scheduled_emails() is called</li>
</ul>
</dd>
<dt>Then:</dt>
<dd><ul class="first last simple">
<li>don&#8217;t send certification</li>
<li>put state to Finished (&#8220;Elvegezte&#8221;)</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_send_certification_and_set_state_to_finished_2_days_after_last_occasion_if_applicable">
<code class="descname">test_send_certification_and_set_state_to_finished_2_days_after_last_occasion_if_applicable</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_send_certification_and_set_state_to_finished_2_days_after_last_occasion_if_applicable" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Given:</dt>
<dd><ul class="first last simple">
<li>there is one active beginner student</li>
<li>it&#8217;s last occasion plus 2 days</li>
<li>student is eligible for certification</li>
</ul>
</dd>
<dt>When:</dt>
<dd><ul class="first last simple">
<li>send_scheduled_emails() is called</li>
</ul>
</dd>
<dt>Then:</dt>
<dd><ul class="first last simple">
<li>send certification</li>
<li>put state to Finished (&#8220;Elvegezte&#8221;)</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_send_final_mail_1_day_after_last_occasion">
<code class="descname">test_send_final_mail_1_day_after_last_occasion</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_sendscheduledemails.TestSendScheduledMails.test_send_final_mail_1_day_after_last_occasion" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Given:</dt>
<dd><ul class="first last simple">
<li>there is one active beginner student</li>
<li>it&#8217;s 1 day after last occasion</li>
</ul>
</dd>
<dt>When:</dt>
<dd><ul class="first last simple">
<li>send_scheduled_emails() is called</li>
</ul>
</dd>
<dt>Then:</dt>
<dd><ul class="first last simple">
<li>final email is sent</li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-test.module_tests.test_setcoursestates">
<span id="test-module-tests-test-setcoursestates-module"></span><h2>test.module_tests.test_setcoursestates module<a class="headerlink" href="#module-test.module_tests.test_setcoursestates" title="Permalink to this headline">¶</a></h2>
<p>This module contains all of the tests and requirements for the functionality called setcoursestates.</p>
<dl class="class">
<dt id="test.module_tests.test_setcoursestates.TestSetCourseStates">
<em class="property">class </em><code class="descclassname">test.module_tests.test_setcoursestates.</code><code class="descname">TestSetCourseStates</code><span class="sig-paren">(</span><em>methodName='runTest'</em><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_setcoursestates.TestSetCourseStates" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="test.unit_tests.html#test.unit_tests.minicrmtestbase.MiniCrmTestBase" title="test.unit_tests.minicrmtestbase.MiniCrmTestBase"><code class="xref py py-class docutils literal"><span class="pre">test.unit_tests.minicrmtestbase.MiniCrmTestBase</span></code></a></p>
<p>Create an instance of the class that will use the named test
method when executed. Raises a ValueError if the instance does
not have a method with the specified name.</p>
<dl class="method">
<dt id="test.module_tests.test_setcoursestates.TestSetCourseStates.test_application_is_open_and_first_day_hasnt_spent_do_nothing">
<code class="descname">test_application_is_open_and_first_day_hasnt_spent_do_nothing</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_setcoursestates.TestSetCourseStates.test_application_is_open_and_first_day_hasnt_spent_do_nothing" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Given:</dt>
<dd><ul class="first last simple">
<li>One course is in Application Open state (&#8220;Jelentkezes nyitva&#8221;)</li>
<li>First day hasn&#8217;t spent</li>
</ul>
</dd>
<dt>When:</dt>
<dd><ul class="first last simple">
<li>set_course_states() is called</li>
</ul>
</dd>
<dt>Then:</dt>
<dd><ul class="first last simple">
<li>do nothing</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="test.module_tests.test_setcoursestates.TestSetCourseStates.test_application_is_open_first_day_spent_but_last_didnt_put_to_in_progress">
<code class="descname">test_application_is_open_first_day_spent_but_last_didnt_put_to_in_progress</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_setcoursestates.TestSetCourseStates.test_application_is_open_first_day_spent_but_last_didnt_put_to_in_progress" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Given:</dt>
<dd><ul class="first last simple">
<li>One course is in Application Open state (&#8220;Jelentkezes nyitva&#8221;)</li>
<li>First day has spent, last day hasn&#8217;t</li>
</ul>
</dd>
<dt>When:</dt>
<dd><ul class="first last simple">
<li>set_course_states() is called</li>
</ul>
</dd>
<dt>Then:</dt>
<dd><ul class="first last simple">
<li>Course is put to In Progress (&#8220;Folyamatban&#8221;) state</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="test.module_tests.test_setcoursestates.TestSetCourseStates.test_first_day_is_missing_no_error_is_raised_state_is_not_changed">
<code class="descname">test_first_day_is_missing_no_error_is_raised_state_is_not_changed</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_setcoursestates.TestSetCourseStates.test_first_day_is_missing_no_error_is_raised_state_is_not_changed" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Given:</dt>
<dd><ul class="first last simple">
<li>One course is in in Application open (&#8220;Jelentkezes nyitva&#8221;) state</li>
<li>First day is missing</li>
</ul>
</dd>
<dt>When:</dt>
<dd><ul class="first last simple">
<li>set_course_states() is called</li>
</ul>
</dd>
<dt>Then:</dt>
<dd><ul class="first last simple">
<li>Error is not raised</li>
<li>State is not changed</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="test.module_tests.test_setcoursestates.TestSetCourseStates.test_in_progress_first_day_is_spent_but_last_didnt_set_state_to_in_progress">
<code class="descname">test_in_progress_first_day_is_spent_but_last_didnt_set_state_to_in_progress</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_setcoursestates.TestSetCourseStates.test_in_progress_first_day_is_spent_but_last_didnt_set_state_to_in_progress" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Given:</dt>
<dd><ul class="first last simple">
<li>One course is in In Progress state (&#8220;Folyamatban&#8221;)</li>
<li>First day has spent, last day hasn&#8217;t</li>
</ul>
</dd>
<dt>When:</dt>
<dd><ul class="first last simple">
<li>set_course_states() is called</li>
</ul>
</dd>
<dt>Then:</dt>
<dd><ul class="first last simple">
<li>Course is put to In Progress (&#8220;Folyamatban&#8221;) state</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="test.module_tests.test_setcoursestates.TestSetCourseStates.test_in_progress_last_day_has_spent_but_not_35_more_days_put_to_recently_finished">
<code class="descname">test_in_progress_last_day_has_spent_but_not_35_more_days_put_to_recently_finished</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_setcoursestates.TestSetCourseStates.test_in_progress_last_day_has_spent_but_not_35_more_days_put_to_recently_finished" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Given:</dt>
<dd><ul class="first last simple">
<li>One course is in In Progress state (&#8220;Folyamatban&#8221;)</li>
<li>Last day has spent, but not more than 35 days ago</li>
</ul>
</dd>
<dt>When:</dt>
<dd><ul class="first last simple">
<li>set_course_states() is called</li>
</ul>
</dd>
<dt>Then:</dt>
<dd><ul class="first last simple">
<li>Course is put to Recently Finished (&#8220;Frissen vegzett&#8221;) state</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="test.module_tests.test_setcoursestates.TestSetCourseStates.test_last_day_is_missing_no_error_is_raised_put_to_in_progress">
<code class="descname">test_last_day_is_missing_no_error_is_raised_put_to_in_progress</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_setcoursestates.TestSetCourseStates.test_last_day_is_missing_no_error_is_raised_put_to_in_progress" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Given:</dt>
<dd><ul class="first last simple">
<li>One course is in in Application open (&#8220;Jelentkezes nyitva&#8221;) state</li>
<li>Last day is missing</li>
</ul>
</dd>
<dt>When:</dt>
<dd><ul class="first last simple">
<li>set_course_states() is called</li>
</ul>
</dd>
<dt>Then:</dt>
<dd><ul class="first last simple">
<li>Error is not raised</li>
<li>Course is put to In Progress (&#8220;Folyamatban&#8221;) state</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="test.module_tests.test_setcoursestates.TestSetCourseStates.test_recently_finished_and_35_days_passed_put_to_closed">
<code class="descname">test_recently_finished_and_35_days_passed_put_to_closed</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_setcoursestates.TestSetCourseStates.test_recently_finished_and_35_days_passed_put_to_closed" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Given:</dt>
<dd><ul class="first last simple">
<li>One course is in In Progress state (&#8220;Folyamatban&#8221;)</li>
<li>Last day has spent more than 35 days ago</li>
</ul>
</dd>
<dt>When:</dt>
<dd><ul class="first last simple">
<li>set_course_states() is called</li>
</ul>
</dd>
<dt>Then:</dt>
<dd><ul class="first last simple">
<li>Course is put to Closed (&#8220;Vegzett&#8221;) state</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="test.module_tests.test_setcoursestates.TestSetCourseStates.test_recently_finished_first_day_spent_but_last_didnt_put_to_in_progress">
<code class="descname">test_recently_finished_first_day_spent_but_last_didnt_put_to_in_progress</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_setcoursestates.TestSetCourseStates.test_recently_finished_first_day_spent_but_last_didnt_put_to_in_progress" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Given:</dt>
<dd><ul class="first last simple">
<li>One course is in Recently Finished state (&#8220;Frissen vegzett&#8221;)</li>
<li>First day has spent, last day hasn&#8217;t</li>
</ul>
</dd>
<dt>When:</dt>
<dd><ul class="first last simple">
<li>set_course_states() is called</li>
</ul>
</dd>
<dt>Then:</dt>
<dd><ul class="first last simple">
<li>Course is put to In Progress (&#8220;Folyamatban&#8221;) state</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="test.module_tests.test_setcoursestates.TestSetCourseStates.test_recently_finished_last_day_has_spent_but_not_35_more_put_to_recently_finished">
<code class="descname">test_recently_finished_last_day_has_spent_but_not_35_more_put_to_recently_finished</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#test.module_tests.test_setcoursestates.TestSetCourseStates.test_recently_finished_last_day_has_spent_but_not_35_more_put_to_recently_finished" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Given:</dt>
<dd><ul class="first last simple">
<li>One course is in Recently Finished state (&#8220;Frissen vegzett&#8221;)</li>
<li>Last day has spent, but not more than 35 days ago</li>
</ul>
</dd>
<dt>When:</dt>
<dd><ul class="first last simple">
<li>set_course_states() is called</li>
</ul>
</dd>
<dt>Then:</dt>
<dd><ul class="first last simple">
<li>Course is put to Recently Finished (&#8220;Frissen vegzett&#8221;) state</li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-test.module_tests">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-test.module_tests" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">test.module_tests package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-test.module_tests.test_cleaninfosent">test.module_tests.test_cleaninfosent module</a></li>
<li><a class="reference internal" href="#module-test.module_tests.test_handlewaitinglist">test.module_tests.test_handlewaitinglist module</a></li>
<li><a class="reference internal" href="#module-test.module_tests.test_registernewapplicants">test.module_tests.test_registernewapplicants module</a></li>
<li><a class="reference internal" href="#module-test.module_tests.test_sendscheduledemails">test.module_tests.test_sendscheduledemails module</a></li>
<li><a class="reference internal" href="#module-test.module_tests.test_setcoursestates">test.module_tests.test_setcoursestates module</a></li>
<li><a class="reference internal" href="#module-test.module_tests">Module contents</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  <li><a href="test.html">test package</a><ul>
      <li>Previous: <a href="test.html" title="previous chapter">test package</a></li>
      <li>Next: <a href="test.system_tests.html" title="next chapter">test.system_tests package</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/test.module_tests.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, Adam Rudolf.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.4.8</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/test.module_tests.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>